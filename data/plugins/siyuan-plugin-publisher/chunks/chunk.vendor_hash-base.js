import{r as B}from"./chunk.vendor_safe-buffer.js";import{r as m}from"./chunk.vendor_to-buffer.js";import{r as w}from"./chunk.vendor_readable-stream.js";import{r as y}from"./chunk.vendor_inherits.js";var d,c;function b(){if(c)return d;c=1;var u=B().Buffer,h=m(),s=typeof Uint8Array<"u",l=s&&typeof ArrayBuffer<"u",i=l&&ArrayBuffer.isView;return d=function(r,t){if(typeof r=="string"||u.isBuffer(r)||s&&r instanceof Uint8Array||i&&i(r))return h(r,t);throw new TypeError('The "data" argument must be a string, a Buffer, a Uint8Array, or a DataView')},d}var p,v;function O(){if(v)return p;v=1;var u=B().Buffer,h=b(),s=w().Transform,l=y();function i(r){s.call(this),this._block=u.allocUnsafe(r),this._blockSize=r,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return l(i,s),i.prototype._transform=function(r,t,e){var a=null;try{this.update(r,t)}catch(f){a=f}e(a)},i.prototype._flush=function(r){var t=null;try{this.push(this.digest())}catch(e){t=e}r(t)},i.prototype.update=function(r,t){if(this._finalized)throw new Error("Digest already called");for(var e=h(r,t),a=this._block,f=0;this._blockOffset+e.length-f>=this._blockSize;){for(var _=this._blockOffset;_<this._blockSize;)a[_]=e[f],_+=1,f+=1;this._update(),this._blockOffset=0}for(;f<e.length;)a[this._blockOffset]=e[f],this._blockOffset+=1,f+=1;for(var n=0,o=e.length*8;o>0;++n)this._length[n]+=o,o=this._length[n]/4294967296|0,o>0&&(this._length[n]-=4294967296*o);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();r!==void 0&&(t=t.toString(r)),this._block.fill(0),this._blockOffset=0;for(var e=0;e<4;++e)this._length[e]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},p=i,p}export{O as r};
